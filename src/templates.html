{% template todo-element () (todo) %}
  <li class="todo-element">
    <button hx-delete="/todos/{{ todo.id }}"
            hx-target="closest li"
            hx-swap="outerHTML"
            class="todo-element__button">-</button>
    {{ todo.desc }}
  </li>
{% end %}

{% template group-card () (group todos) %}
  <div class="group-card">
    <h3 class="group-card__title">{{ group.desc }}</h3>
    <ul class="group-card__todo-list">
      {% loop for todo in todos do %}
        {{ todo-element todo }}
      {% end %}
    </ul>
    <form class="group-card__input add-todo-form"
          hx-post="/groups/{{ group.id }}"
          hx-target="previous ul"
          hx-swap="beforeend">
      <input placeholder="Enter a todo..." name="desc"></input>
      <button type="submit">+</button>
    </form>
  </div>
{% end %}

{% template index.html () (todos) %}
<!DOCTYPE html>
<html>
  <head>
    <title>CL Trello</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="charset" content="UTF-8"/>
    <link rel="stylesheet" href="css/index.css"/>
    <script src="/vendor/htmx.js"></script>
  </head>
  <body>
    <h1>CL Trello</h1>
    <div class="group-list">
      {% loop for (group . todos) in todos do %}
        {{ group-card group todos }}
      {% end %}
    <div>
  </body>
</html>
{% end %}
